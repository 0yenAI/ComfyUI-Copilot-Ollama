const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["copilot_web/workflowChat-x7UkieQl.js","copilot_web/input.js","copilot_web/assets/input-CH_9SpKL.css"].map(path => {
                        const apiBase = window.comfyAPI?.api?.api?.api_base;
                        const prefix = apiBase ? `${apiBase.substring(1)}/` : '';
                        return `${prefix}${path}`;
                    }))))=>i.map(i=>d[i]);
import{r as t,j as n,R as w,_}from"./input.js";const b=9999999,g={EXPLAIN_NODE:"copilot:explain-node"},y="/copilot_web/assets/logo-BTZhX0BN.png",N=w.lazy(()=>_(()=>import("./workflowChat-x7UkieQl.js"),__vite__mapDeps([0,1,2])));function L(){const f=t.useRef(null),[m,r]=t.useState(!1),[a,c]=t.useState(),[s,u]=t.useState(!1),[i,p]=t.useState({x:0,y:0}),[x,l]=t.useState(!1);t.useEffect(()=>{const e=()=>{console.log("Explain node event received"),r(!0),l(!0)};return window.addEventListener(g.EXPLAIN_NODE,e),()=>window.removeEventListener(g.EXPLAIN_NODE,e)},[]),t.useEffect(()=>{c({x:window.innerWidth-160,y:20})},[]);const h=e=>{e.preventDefault(),u(!0);const o=e.currentTarget.getBoundingClientRect();p({x:e.clientX-o.left,y:e.clientY-o.top})};return t.useEffect(()=>{const e=d=>{if(s){const E=Math.min(Math.max(0,d.clientX-i.x),window.innerWidth-100),v=Math.min(Math.max(0,d.clientY-i.y),window.innerHeight-40);c({x:E,y:v})}},o=()=>{u(!1)};return s&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",o)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",o)}},[s,i]),a?n.jsx("div",{ref:f,children:n.jsxs("div",{className:"fixed",style:{zIndex:b,left:a.x,top:a.y,cursor:s?"grabbing":"grab"},children:[n.jsxs("button",{onMouseDown:h,onClick:()=>{r(!0)},className:"px-2 py-1 border border-gray-300 rounded-md bg-white text-black hover:bg-blue-300 hover:font-bold transition-colors select-none w-40 flex items-center space-x-1",style:{marginLeft:"-40px"},children:[n.jsx("img",{src:y,alt:"ComfyUI-Copilot Logo",className:"h-8 w-8"}),n.jsx("span",{className:"text-[14px] font-medium text-gray-800",children:"ComfyUI-Copilot"})]}),n.jsx(N,{onClose:()=>{r(!1),l(!1)},visible:m,triggerUsage:x,onUsageTriggered:()=>l(!1)})]})}):null}const D=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"}));export{D as A,y as l};
